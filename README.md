# Tinder
## 1. Сервис для знакомств

### целевая аудитория 
|Распределение аудитории |
|------------------------|
|Северная Америка        |
|Европа                  |

* 75 миллионов активных пользователей в месяц
* 1.6 млрд свайпов в день
* более 30 млн совпадений в день

### MVP
* Профиль пользователя
* Персональная лента рекомендаций
* Система свайпов
* Чаты совпавших пользователей

## 2. Расчет нагрузки
### Продуктовые метрики

| Продуктовые метрики                        |                        |
|--------------------------------------------|------------------------|
|Число зарегистрированных аккаунтов          | 75 млн.                |                                      
|Месячная аудитория                          | 37 млн.                |
|Дневная аудитория (35% от месячной)         | 13 млн.                |
|Среднее время использования сервиса в день  | 20 минут               |	
|Кол-во свайпов в день                       | 1.6 млрд.              |
|Количество мэтчей в день                    | 10 млн.                |

|Средний размер хранилища пользователя       |                         |
|--------------------------------------------|-------------------------|
| Фото в профиле (в среднем 5 шт.)           | 2000 Кбайт (10Мбайт)    |
| Сообщения пользователя                     | 1 Мбайт                 |
| Описание профиля и др. контент             | 0.5 Мбайт               |
| Итого                                      | 11.5 Мбайт              |

### Технические метрики


| Размер хранения в разбивке по типам данных (в Тб)|                                   |
|--------------------------------------------------|-----------------------------------|
| Фото                                             | 7.5 * 10^5 Тб ( 10Mбайт * 75 млн )|
| Текст                                            | 1.1 * 10^5 Тб                     |

#### Сетевой трафик

* Суммарный суточный (Гбайт/сутки):\
В день происходит 1.6 * 10^9 * 5 = 8 * 10^9 запросов на фотографии, а размер одной фотографии - 2000Кб, то общий дневной трафик - 15,3 * 10^6 Гбайт, т.е. 122.4 * 10^6 Гбит в день - 1416 Гбит/c.\

* Пиковое потребление в течение суток (в Гбит/с):\
Большинство пользователей, активны в приложении в вечернее время с 21:00 до 22:00
Допустим, что 40 процентов трафика приходится на это вечернее время , тогда пиковая нагрузка - около 14000 ГБит/c.


#### RPS в разбивке по типам запросов

* Свайпы:\
`1.6 * 10^9 / (24 * 60 * 60) ≈ 18520 RPS`
* Фото:\
`1.6 * 10^9 * 5 / (24 * 60 * 60) ≈ 92600 RPS`
* Мэтч:\
`10^7 / (24 * 60 * 60) ≈ 116 RPS`
* Список мэтчей:\
`1.3* 10^7 / (24 * 60 * 60) ≈ 150 RPS`
* Чат:\
`10^7 / (24 * 60 * 60) ≈ 116 RPS`
* Список чатов:\
`10^7 / (24 * 60 * 60) ≈ 150 RPS`
* Сообщения:\
`10^7 / (24 * 60 * 60) ≈ 116 RPS`
* Профиль:\
Ежедневно в среднем пользователи создают профиль	около 100 тыс. раз и редактируют профиль	60 тыс.\
`(100e3 + 60e3) / 24 / 60 / 60 ≈ 2 RPS`


##### Итог 
Всего: 37407 RPS

|              |               |
|--------------|---------------|
|Свайпы        | 18520 RPS     |
|Фото          | 92600 RPS     |
|Мэтч          | 116 RPS       |
|Список мэтчей | 150 RPS       |
|Чат           | 116 RPS       |
|Список чатов  | 150 RPS       |
|Сообщения     | 116 RPS       |
|Профиль       | 2 RPS         |
|Итого         | 111770 RPS    |
 
#### Источники
1. https://vc.ru/services/68840-obzor-rynka-onlayn-znakomstv-skolko-zarabatyvayut-prilozheniya-i-kakie-biznes-modeli-ispolzuyut?ysclid=l879uyof0632857830
2. https://www.knowyourmobile.com/ru/news/tinder-stats-facts/
3. https://www.businessofapps.com/data/tinder-statistics/
4. https://www.huffingtonpost.co.uk/entry/how-to-get-tinder-matches_n_56a78f4be4b0172c659422da
5. https://www.reuters.com/article/us-match-group-results-idUSKBN2A22V1
